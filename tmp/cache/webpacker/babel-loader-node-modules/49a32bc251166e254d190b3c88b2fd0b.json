{"ast":null,"code":"var _jsxFileName = \"/home/deepa/Documents/AptanaSpace3/rails5-reactjs-webpack-sample/app/javascript/components/Pagination.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\n\nvar Pagination =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Pagination, _React$Component);\n\n  function Pagination(props) {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pagination).call(this, props));\n    _this.state = {\n      page_posts: [],\n      page: 1\n    };\n    _this.paginationElement = _this.paginationElement.bind(_assertThisInitialized(_this));\n    _this.handleChangePage = _this.handleChangePage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"handleChangePage\",\n    value: function handleChangePage(e) {\n      e.preventDefault();\n      var number = e.target.text;\n      var self = this;\n      $.ajax({\n        url: '/posts/',\n        data: {\n          page: number\n        },\n        success: function success(data) {\n          self.setState({\n            page_posts: data.page_posts\n          });\n          self.props.handleChangePage(data);\n        }\n      });\n    }\n  }, {\n    key: \"paginationElement\",\n    value: function paginationElement(number) {\n      return React.createElement(\"li\", {\n        key: 'page' + number,\n        className: number == this.props.page ? 'active' : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.handleChangePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, number));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var self = this;\n      var page = this.props.page;\n      var last_page = this.props.pages;\n      var page_links = [];\n      var max_elements = 2;\n      var pages = [1]; //console.log(this.props.page_posts);\n\n      for (var i = page - max_elements; i <= page + max_elements; i++) {\n        if (!pages.includes(i)) pages.push(i);\n      }\n\n      if (!pages.includes(last_page)) pages.push(last_page);\n      pages.forEach(function (i) {\n        if (i > 0 && i <= last_page) page_links.push(self.paginationElement(i));\n      });\n      return React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, this.props.page_posts.length > 0 && React.createElement(\"ul\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, page_links));\n    }\n  }]);\n\n  return Pagination;\n}(React.Component);\n\n;\n/*{this.state.posts.length > 0 && <Pagination page={this.state.page}\n                        pages={this.state.pages}\n                        page_posts={this.state.posts}\nhandleChangePage={this.handleChangePage} />}*/\n\nexport default Pagination;","map":{"version":3,"sources":["/home/deepa/Documents/AptanaSpace3/rails5-reactjs-webpack-sample/app/javascript/components/Pagination.js"],"names":["React","Pagination","props","state","page_posts","page","paginationElement","bind","handleChangePage","e","preventDefault","number","target","text","self","$","ajax","url","data","success","setState","last_page","pages","page_links","max_elements","i","includes","push","forEach","length","Component"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IACMC,U;;;;;AACL,sBAAYC,KAAZ,EACA;AAAA;;AAAA;;AACC,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,UAAU,EAAE,EADA;AAEZC,MAAAA,IAAI,EAAE;AAFM,KAAb;AAIA,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB;AAPD;AAQC;;;;qCAEgBE,C,EACjB;AACCA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASC,IAAxB;AACA,UAAIC,IAAI,GAAG,IAAX;AACEC,MAAAA,CAAC,CAACC,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAE,SADA;AAELC,QAAAA,IAAI,EAAE;AAAEb,UAAAA,IAAI,EAAEM;AAAR,SAFD;AAGLQ,QAAAA,OAAO,EAAE,iBAASD,IAAT,EAAe;AACvBJ,UAAAA,IAAI,CAACM,QAAL,CAAc;AAAEhB,YAAAA,UAAU,EAAEc,IAAI,CAACd;AAAnB,WAAd;AACAU,UAAAA,IAAI,CAACZ,KAAL,CAAWM,gBAAX,CAA4BU,IAA5B;AACA;AANI,OAAP;AASH;;;sCAGmBP,M,EAAQ;AACxB,aACE;AAAI,QAAA,GAAG,EAAE,SAASA,MAAlB;AACI,QAAA,SAAS,EAAEA,MAAM,IAAI,KAAKT,KAAL,CAAWG,IAArB,GAA4B,QAA5B,GAAuC,EADtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAG,QAAA,OAAO,EAAE,KAAKG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCG,MAApC,CAFF,CADF;AAMD;;;6BAEQ;AACP,UAAIG,IAAI,GAAG,IAAX;AACA,UAAIT,IAAI,GAAG,KAAKH,KAAL,CAAWG,IAAtB;AACA,UAAIgB,SAAS,GAAG,KAAKnB,KAAL,CAAWoB,KAA3B;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,YAAY,GAAG,CAAnB;AACA,UAAIF,KAAK,GAAG,CAAC,CAAD,CAAZ,CANO,CAQP;;AAEA,WAAK,IAAIG,CAAC,GAAGpB,IAAI,GAAGmB,YAApB,EAAkCC,CAAC,IAAIpB,IAAI,GAAGmB,YAA9C,EAA4DC,CAAC,EAA7D,EAAiE;AAC/D,YAAI,CAACH,KAAK,CAACI,QAAN,CAAeD,CAAf,CAAL,EACEH,KAAK,CAACK,IAAN,CAAWF,CAAX;AACH;;AACD,UAAI,CAACH,KAAK,CAACI,QAAN,CAAeL,SAAf,CAAL,EACEC,KAAK,CAACK,IAAN,CAAWN,SAAX;AAEFC,MAAAA,KAAK,CAACM,OAAN,CAAc,UAACH,CAAD,EAAO;AACnB,YAAIA,CAAC,GAAG,CAAJ,IAASA,CAAC,IAAIJ,SAAlB,EACEE,UAAU,CAACI,IAAX,CAAgBb,IAAI,CAACR,iBAAL,CAAuBmB,CAAvB,CAAhB;AACH,OAHD;AAKA,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKvB,KAAL,CAAWE,UAAX,CAAsByB,MAAtB,GAA+B,CAA/B,IACC;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGN,UADH,CAFF,CADF;AASD;;;;EArEsBvB,KAAK,CAAC8B,S;;AAsE9B;AAED;;;;;AAKA,eAAe7B,UAAf","sourcesContent":["import React from 'react';\nclass Pagination extends React.Component {\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpage_posts: [],\n\t\t\tpage: 1\n\t\t}\n\t\tthis.paginationElement = this.paginationElement.bind(this);\n\t\tthis.handleChangePage = this.handleChangePage.bind(this);\n\t}\n\t\n\thandleChangePage(e)\n\t{\n\t\te.preventDefault();\n\t\tconst number = e.target.text\n\t\tvar self = this;\n    $.ajax({\n      url: '/posts/',\n      data: { page: number },\n      success: function(data) {\n      \tself.setState({ page_posts: data.page_posts });\n      \tself.props.handleChangePage(data);\n      }\n});\n\t\t\n}\n\t\n\t\n  paginationElement(number) {\n    return (\n      <li key={'page' + number} \n          className={number == this.props.page ? 'active' : ''}>\n        <a onClick={this.handleChangePage}>{number}</a>\n      </li>\n    )\n  }\n  \n  render() {\n    var self = this;\n    var page = this.props.page;\n    var last_page = this.props.pages;\n    var page_links = [];\n    var max_elements = 2;\n    var pages = [1];\n    \n    //console.log(this.props.page_posts);\n\n    for (var i = page - max_elements; i <= page + max_elements; i++) {\n      if (!pages.includes(i))\n        pages.push(i);\n    }\n    if (!pages.includes(last_page))\n      pages.push(last_page);\n\n    pages.forEach((i) => {\n      if (i > 0 && i <= last_page)\n        page_links.push(self.paginationElement(i));\n    });\n\n    return(\n      <div className=\"text-center\">\n      {this.props.page_posts.length > 0  && \n        <ul className=\"pagination\">\n          {page_links}\n        </ul>\n       }\n      </div>\n    );\n  }\n};\n\n/*{this.state.posts.length > 0 && <Pagination page={this.state.page}\n                        pages={this.state.pages}\n                        page_posts={this.state.posts}\nhandleChangePage={this.handleChangePage} />}*/\n\nexport default Pagination;"]},"metadata":{},"sourceType":"module"}